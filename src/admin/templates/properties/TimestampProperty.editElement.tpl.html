<script type="text/javascript">
$(function() {
	$('#<?=$propertyName?>_date').calendar({
		triggerElement: '#<?=$propertyName?>_show',
		dateFormat: '%Y-%m-%d',
		selectHandler: function() {
			$('#<?=$propertyName?>_show').html(this.date.print('%d %G %Y года'));
			$('#<?=$propertyName?>_date').val(this.date.print(this.dateFormat));
			setTimestamp('<?=$propertyName?>');
		}
	});

	$('input:text[time=true]').change(function() {
		setTimestamp('<?=$propertyName?>');
	}).keyup(function() {
		setTimestamp('<?=$propertyName?>');
	}).mousewheel(function(event, delta) {
		onTimeMousewheel($(this), delta);
		setTimestamp('<?=$propertyName?>');
		return false;
	});
});
</script>
<input type="hidden" id="<?=$propertyName?>" name="<?=$propertyName?>" value="<?=$value->toString()?>">
<input type="hidden" id="<?=$propertyName?>_date" name="<?=$propertyName?>_date" value="<?=$value->toDate()?>">
<?=$propertyDescription?>:&nbsp;<span id="<?=$propertyName?>_show" class="dashed" style="cursor: pointer;"><?=sprintf('%d %s %04d года', $value->getDay(), RussianTextUtils::getMonthInGenitiveCase($value->getMonth()), $value->getYear())?></span>,&nbsp;
<input class="prop-time" type="text" id="<?=$propertyName?>_hour" name="<?=$propertyName?>_hour" property="<?=$propertyName?>" time="true" max="23" value="<?=$value->getHour()?>" maxlength="2">&nbsp;:&nbsp;<input class="prop-time" type="text" id="<?=$propertyName?>_minute" name="<?=$propertyName?>_minute" property="<?=$propertyName?>" time="true" max="59" value="<?=$value->getMinute()?>" maxlength="2">&nbsp;:&nbsp;<input class="prop-time" type="text" id="<?=$propertyName?>_second" name="<?=$propertyName?>_second" property="<?=$propertyName?>" time="true" max="59" value="<?=$value->getSecond()?>" maxlength="2"><br><br>